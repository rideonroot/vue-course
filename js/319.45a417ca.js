"use strict";(self["webpackChunkvue_course"]=self["webpackChunkvue_course"]||[]).push([[319],{5227:function(a,e,s){s.d(e,{Bf:function(){return r},e8:function(){return t},m5:function(){return n},n8:function(){return c}});const r=a=>Object.entries(a).reduce(((a,[e,s])=>"string"===typeof s&&""===s?a:("number"!==typeof s||s)&&s?{...a,[e]:s}:a),{}),t=a=>Intl.NumberFormat().format(a),n=(a,e)=>e[a%100>4&&a%100<20?2:[2,0,1,1,1,2][a%10<5?a%10:5]],c=(a,e)=>a?.map((a=>{const s=a(e);return"string"===typeof s?s:""})).filter((a=>""!==a))},657:function(a,e,s){s.d(e,{L:function(){return _}});var r=s(2578),t=s(4870),n=s(3396),c=s(1885),l=s(6106),i=s(2474);const _=(0,r.Q_)("order",(()=>{const a=(0,l.L)(),{clearCart:e}=(0,i.x)(),s=(0,t.iH)({}),r=(0,t.qj)({inputs:{},message:""}),_=(0,t.iH)(!1),o=(0,t.iH)(!1),u=(0,n.Fl)((()=>s.value?.basket?.items?.length??0)),d=(0,n.Fl)((()=>s?.value?.basket?.items.reduce(((a,e)=>a+e.price*e.quantity),0)??0)),m=(0,n.Fl)((()=>Boolean(s.value?.id))),p=async t=>{try{r.message="",r.inputs={},o.value=!1,_.value=!0,s.value=await c.Z.createOrder(t,a.accessKey),e()}catch({error:n}){r.message=n?.message??"",r.inputs=n?.request??{},o.value=!0}finally{_.value=!1}},y=async e=>{if(!m.value)try{_.value=!0,o.value=!1,s.value=await c.Z.getOrder(e,a.accessKey)}catch{o.value=!0}finally{_.value=!1}};return{isLoading:_,isError:o,order:s,itemsCount:u,totalPrice:d,errors:r,createOrder:p,getOrder:y}}))},6213:function(a,e,s){s.d(e,{Z:function(){return u}});var r=s(3396),t=s(7139);const n=a=>((0,r.dD)("data-v-6cd2041e"),a=a(),(0,r.Cn)(),a),c=n((()=>(0,r._)("span",{class:"loader"},null,-1))),l=[c];var i={__name:"AppLoader",props:{app:Boolean},setup(a){return(e,s)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,t.C_)(["container",{container__app:a.app}])},l,2))}},_=s(89);const o=(0,_.Z)(i,[["__scopeId","data-v-6cd2041e"]]);var u=o},319:function(a,e,s){s.r(e),s.d(e,{default:function(){return $}});var r=s(3396),t=s(4870),n=s(7139),c=s(657),l=s(2483),i=s(1434),_=s(5227),o=s(6213);const u={key:1,class:"content container"},d={class:"content__top"},m={class:"breadcrumbs"},p={class:"breadcrumbs__item"},y={class:"breadcrumbs__item"},v={class:"breadcrumbs__item"},f={class:"content__title"},k={class:"cart"},b={class:"cart__form form"},w={class:"cart__field"},U=(0,r._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),g={class:"dictionary"},S={class:"dictionary__item"},z=(0,r._)("span",{class:"dictionary__key"}," Получатель ",-1),h={class:"dictionary__value"},C={class:"dictionary__item"},O=(0,r._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),D={class:"dictionary__value"},F={class:"dictionary__item"},L=(0,r._)("span",{class:"dictionary__key"}," Телефон ",-1),q={class:"dictionary__value"},Z={class:"dictionary__item"},j=(0,r._)("span",{class:"dictionary__key"}," Email ",-1),H={class:"dictionary__value"},W=(0,r._)("li",{class:"dictionary__item"},[(0,r._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,r._)("span",{class:"dictionary__value"}," картой при получении ")],-1),B={class:"cart__block"},E={key:0,class:"cart__orders"},I={class:"cart__total"};var K={__name:"OrderInfoPage",setup(a){const e=(0,l.yj)(),s=(0,c.L)(),K=(0,r.Fl)((()=>{const a=s.itemsCount,e=(0,_.m5)(a,["товар","товара","товаров"]);return`${a} ${e}`})),P=500,$=(0,r.Fl)((()=>P+s.totalPrice));return(0,r.bv)((()=>{const a=e.params.id;s.getOrder(a)})),(a,e)=>{const c=(0,r.up)("router-link");return(0,t.SU)(s).isLoading?((0,r.wg)(),(0,r.j4)(o.Z,{key:0})):((0,r.wg)(),(0,r.iD)("main",u,[(0,r._)("div",d,[(0,r._)("ul",m,[(0,r._)("li",p,[(0,r.Wm)(c,{class:"breadcrumbs__link",to:{name:(0,t.SU)(i.e0)}},{default:(0,r.w5)((()=>[(0,r.Uk)(" Каталог ")])),_:1},8,["to"])]),(0,r._)("li",y,[(0,r.Wm)(c,{class:"breadcrumbs__link",to:{name:(0,t.SU)(i.TW)}},{default:(0,r.w5)((()=>[(0,r.Uk)(" Корзина ")])),_:1},8,["to"])]),(0,r._)("li",v,[(0,r.Wm)(c,{class:"breadcrumbs__link",to:{name:(0,t.SU)(i.UE)}},{default:(0,r.w5)((()=>[(0,r.Uk)(" Оформление заказа ")])),_:1},8,["to"])])]),(0,r._)("h1",f,[(0,r.Uk)(" Заказ оформлен "),(0,r._)("span",null,"№ "+(0,n.zw)((0,t.SU)(s).order.id),1)])]),(0,r._)("section",k,[(0,r._)("form",b,[(0,r._)("div",w,[U,(0,r._)("ul",g,[(0,r._)("li",S,[z,(0,r._)("span",h,(0,n.zw)((0,t.SU)(s).order.name),1)]),(0,r._)("li",C,[O,(0,r._)("span",D,(0,n.zw)((0,t.SU)(s).order.address),1)]),(0,r._)("li",F,[L,(0,r._)("span",q,(0,n.zw)((0,t.SU)(s).order.phone),1)]),(0,r._)("li",Z,[j,(0,r._)("span",H,(0,n.zw)((0,t.SU)(s).order.email),1)]),W])]),(0,r._)("div",B,[(0,t.SU)(s).order.basket?.items?((0,r.wg)(),(0,r.iD)("ul",E,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,t.SU)(s).order.basket.items,(({product:a,quantity:e})=>((0,r.wg)(),(0,r.iD)("li",{key:a.id,class:"cart__order"},[(0,r._)("h3",null,(0,n.zw)(a.title),1),(0,r._)("b",null,(0,n.zw)((0,t.SU)(_.e8)(a.price*e))+" ₽",1),(0,r._)("span",null,"Артикул: "+(0,n.zw)(a.id),1)])))),128))])):(0,r.kq)("",!0),(0,r._)("div",I,[(0,r._)("p",null,[(0,r.Uk)(" Доставка: "),(0,r._)("b",null,(0,n.zw)(P)+" ₽")]),(0,r._)("p",null,[(0,r.Uk)(" Итого: "),(0,r._)("b",null,(0,n.zw)((0,t.SU)(K)),1),(0,r.Uk)(" на сумму "),(0,r._)("b",null,(0,n.zw)((0,t.SU)(_.e8)((0,t.SU)($)))+" ₽",1)])])])])])]))}}};const P=K;var $=P}}]);
//# sourceMappingURL=319.45a417ca.js.map